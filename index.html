<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Think Nube - Entrevista AI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- CSS desde CDN -->
    <link rel="stylesheet" href="https://unpkg.com/@n8n/chat@latest/style.css" />

    <style>
      :root {
        --chat--color-primary: #6366f1;
        --chat--color-secondary: #10b981;
        --chat--color-white: #ffffff;
        --chat--color-light: #ececec;
        --chat--color-dark: #212121;
        --chat--message--bot--background: #212121;
        --chat--message--bot--color: #ececec;
        --chat--message--user--background: #2f2f2f;
        --chat--message--user--color: #ececec;

        --chat--window--width: 100%;
        --chat--window--height: 100%;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
        background: #212121;
      }

      #n8n-chat {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="n8n-chat"></div>

    <!-- Script embebido desde CDN -->
    <script src="https://unpkg.com/@n8n/chat@latest/dist/embed.umd.js"></script>
    <script>
      const params = new URLSearchParams(window.location.search);
      const estudioID = params.get('ID') || 'sin-id';

      window.createChat({
        webhookUrl: 'https://agentsol.app.n8n.cloud/webhook/716ddad8-70a4-4679-8c5f-d914a53dce84/chat',
        target: '#n8n-chat',
        mode: 'fullscreen',
        metadata: {
          estudioID
        },
        initialMessages: ['Â¡Hola! ðŸ‘‹ Â¿Listo para empezar la entrevista?'],
        loadPreviousSession: true,
        chatSessionKey: 'sessionId',
        i18n: {
          en: {
            title: 'Entrevista Think Nube',
            subtitle: 'Estoy para ayudarte en esta charla.',
            inputPlaceholder: 'EscribÃ­ tu respuesta...',
            getStarted: 'Comenzar'
          }
        },
        defaultLanguage: 'en'
      });
    </script>
  </body>
</html>
